(function(t){function e(e){for(var n,i,l=e[0],c=e[1],u=e[2],p=0,d=[];p<l.length;p++)i=l[p],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&d.push(a[i][0]),a[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);s&&s(e);while(d.length)d.shift()();return r.push.apply(r,u||[]),o()}function o(){for(var t,e=0;e<r.length;e++){for(var o=r[e],n=!0,l=1;l<o.length;l++){var c=o[l];0!==a[c]&&(n=!1)}n&&(r.splice(e--,1),t=i(i.s=o[0]))}return t}var n={},a={app:0},r=[];function i(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=n,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(o,n,function(e){return t[e]}.bind(null,n));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=e,l=l.slice();for(var u=0;u<l.length;u++)e(l[u]);var s=c;r.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"034f":function(t,e,o){"use strict";o("9085")},1752:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGkAAABjCAIAAAAXe7kLAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAADoSURBVHhe7dChEcAwEMCwb4boFXb/KUOyQIwlYu7n/94hWafc867zrvOu867zrvOu867zrvOu867zrvOu867zrvOu867zrvOu867zrvOu867zrvOu867zrvOu867zrvOu867zrvOu867zrvOu867zrvOu867zrvOu867zrvOu867zrvOu867zrvOu867zrvOu867zrvOu867zrvOu867zrvOu867zrvOu867zrvOu867zrvOu867zrvOu867zrvOu867zrvOu867zrvOu867zrvOu867zrvOu867zrvOu867zrvOu866a2fyCARTYXgMXAAAAAElFTkSuQmCC"},"18a6":function(t,e,o){t.exports=o.p+"img/locate.ef35807c.svg"},"21bb":function(t,e,o){"use strict";o("2d73")},"2d73":function(t,e,o){},"56d7":function(t,e,o){"use strict";o.r(e);o("e260"),o("e6cf"),o("cca6"),o("a79d");var n=o("2b0e"),a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("router-view")],1)},r=[],i={name:"App",components:{}},l=i,c=(o("034f"),o("2877")),u=Object(c["a"])(l,a,r,!1,null,null,null),s=u.exports,p=o("2f62");n["default"].use(p["a"]);var d=new p["a"].Store({state:{},mutations:{},actions:{},getters:{}}),f=o("8c4f"),v=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},m=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"map-container",attrs:{id:"map-container"}},[o("div",{staticClass:"LatLng"})])}],g=(o("d81d"),o("d3b7"),o("159b"),o("99af"),o("4de4"),o("e11e")),h=o.n(g),y=(o("20d6"),[{WGS84_x:"120.299109897157",WGS84_y:"22.6317172374818",twd97_x:"177955.44",twd97_y:"2503672.61"},{WGS84_x:"120.297509889798",WGS84_y:"22.6397751663019",twd97_x:"177795.18",twd97_y:"2504565.67"},{WGS84_x:"120.293245378341",WGS84_y:"22.677058557849",twd97_x:"177376.46",twd97_y:"2508696.29"},{WGS84_x:"120.273543720654",WGS84_y:"22.6836983763174",twd97_x:"176182.13",twd97_y:"2509241.40"},{WGS84_x:"120.244682353833",WGS84_y:"22.60035589323",twd97_x:"172343.00",twd97_y:"2500227.19"},{WGS84_x:"120.22622476232",WGS84_y:"22.7003888051824",twd97_x:"170502.84",twd97_y:"2511314.09"},{WGS84_x:"120.29337000",WGS84_y:"22.668963100291",twd97_x:"177362.68",twd97_y:"2507799.89"}]),A=[{coordinates:[[22.684667,120.405065],[22.607038,120.495371]]},{coordinates:[[22.705572,120.372],[22.649819,120.339821],[22.609257,120.412615]]},{coordinates:[[22.684905,120.364854],[22.668353,120.357214],[22.655918,120.3573],[22.671204,120.385714]]},{coordinates:[[22.759087,120.515624],[22.565513,120.367975]]}],w={name:"Home",data:function(){return{map:null,area:null,LatLng:{lat:123,lng:456},drawer:!1}},methods:{initaMap:function(){delete h.a.Icon.Default.prototype._getIconUrl,h.a.Icon.Default.mergeOptions({iconRetinaUrl:o("584d"),iconUrl:o("18a6"),shadowUrl:o("e2b9")}),this.map=h.a.map("map-container",{zoomControl:!1,drawControl:!0}).setView([22.668195,120.318532],12),h.a.tileLayer("https://wmts.nlsc.gov.tw/wmts/EMAP/default/EPSG:3857/{z}/{y}/{x}",{maxZoom:19,attribution:"© OpenStreetMap"}).addTo(this.map);var t=h.a.tileLayer("https://wmts.nlsc.gov.tw/wmts/EMAP/default/EPSG:3857/{z}/{y}/{x}",{maxZoom:19,attribution:"© OpenStreetMap"}),e=h.a.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:"© OpenStreetMap"}),n={"臺灣通用電子地圖":t,"OSM 開放街圖 map":e},a={color:"#455852",useGradient:!0,weight:3},r=[];A.forEach((function(t){var e=[t.coordinates[0],t.coordinates[1]];r.push(h.a.polyline(e,a))}));var i=h.a.layerGroup(r),l=[];y.forEach((function(t){var e=[t.WGS84_y,t.WGS84_x];l.push(h.a.marker(e,{icon:h.a.icon({iconUrl:o("1752"),iconSize:[12,12],className:"marker"})}))}));var c=h.a.layerGroup(l),u={"線":i,pointA:c};h.a.control.layers(n,u).addTo(this.map),h.a.control.zoom({zoomInTitle:"放大",zoomOutTitle:"縮小"}).addTo(this.map);var s=new h.a.FeatureGroup;this.map.addLayer(s);var p={draw:{polyline:{shapeOptions:{color:"#f357a1",weight:2}}},edit:{featureGroup:s,edit:!0},collapsed:!0,marker:{}};this.initDrawTooltip();var d=new h.a.Control.Draw(p);this.map.addControl(d),this.map.on(h.a.Draw.Event.CREATED,(function(t){var e=t.layer;s.addLayer(e)})),this.getRadius(s),this.getArea(s),h.a.control.scale({position:"bottomright",imperial:!1}).addTo(this.map),this.getMouseLatLng()},createIcon:function(t){return h.a.icon(t)},initDrawTooltip:function(){h.a.drawLocal={draw:{toolbar:{actions:{title:"取消",text:"取消",save:{title:"保存",text:"保存"},cancel:{title:"取消",text:"取消"},clearAll:{title:"清除全部",text:"清除全部"}},finish:{title:"完成繪制",text:"完成"},undo:{title:"刪除最後一個點",text:"刪除最後一個點"},buttons:{polyline:"線段量測",polygon:"繪制多邊形",rectangle:"繪制一個矩形",circle:"繪制一個圓形",marker:"繪制一個標記",circlemarker:"繪制一個圓形標記"}},handlers:{circle:{tooltip:{start:"點擊地圖開始繪制"},radius:"點擊地圖開始繪制"},circlemarker:{tooltip:{start:"點擊地圖開始繪制"}},marker:{tooltip:{start:"點擊地圖開始繪制"}},polygon:{tooltip:{start:"點擊地圖開始繪制",cont:"繼續選擇",end:"點擊第一個點以完成繪制"}},polyline:{error:"<strong>Error:</strong> shape edges cannot cross!",tooltip:{start:"點擊地圖開始繪制",cont:"繼續選擇",end:"點擊最後一個點以完成繪制"}},rectangle:{tooltip:{start:"點擊地圖開始繪制"}},simpleshape:{tooltip:{end:"Release mouse to finish drawing."}}}},edit:{toolbar:{actions:{save:{title:"保存",text:"保存"},cancel:{title:"取消",text:"取消"},clearAll:{title:"清除全部",text:"清除全部"}},buttons:{edit:"編輯線段",editDisabled:"暫無繪製的線段可編輯",remove:"刪除線段",removeDisabled:"暫無繪製的線段可刪除"}},handlers:{edit:{tooltip:{text:"拖動標記以編輯圖形",subtext:"點擊取消以撤消更改"}},remove:{tooltip:{text:"選中一個繪製的圖形來刪除"}}}}}},getRadius:function(t){this.map.on(h.a.Draw.Event.CREATED,(function(e){var o=e.layer,n=e.layerType;if(t.addLayer(o),"circle"===n){var a=o.getLatLng(),r=o.getRadius();console.log("經度: ".concat(a.lng,", 緯度: ").concat(a.lat)),console.log("半徑: ".concat(r," (m)"))}}))},getArea:function(t){this.map.on(h.a.Draw.Event.CREATED,(function(t){var e=t.layer,o=t.layerType;if("circle"===o){var n=e.getLatLng(),a=e.getRadius();this.LatLng=n,console.log("經度: ".concat(n.lng,", 緯度: ").concat(n.lat)),console.log("半徑: ".concat(a," (m)")),e.bindPopup("LatLng: "+e.getLatLng()).openPopup()}else this.area=h.a.GeometryUtil.geodesicArea(e.getLatLngs()[0]),e.bindPopup('\n            <p class="popup_p">LatLng:'.concat(e.getLatLngs(),'</p>\n            <p class="popup_p">面積：').concat(h.a.GeometryUtil.geodesicArea(e.getLatLngs()[0]),"</p>\n          ")).openPopup(),console.log("seeArea",this.area)}))},getMouseLatLng:function(){var t=this,e=h.a.Control.extend({_container:null,options:{position:"bottomleft"},onAdd:function(t){var e=h.a.DomUtil.create("div","mouseposition");return this._latlng=e,e},updateHTML:function(t,e){var o=t+" "+e;this._latlng.innerHTML="LatLng: "+o}});this.position=new e,this.map.addControl(this.position),this.map.addEventListener("mousemove",(function(e){var o=Math.round(1e5*e.latlng.lat)/1e5,n=Math.round(1e5*e.latlng.lng)/1e5;t.position.updateHTML(o,n)}))},TWD97ToWGS84:function(t,e){var o=Math.pow,n=Math.PI,a=Math.sin,r=Math.cos,i=Math.tan,l=6378137,c=6356752.314245,u=121*n/180,s=.9999,p=25e4,d=0,f=o(1-o(c,2)/o(l,2),.5);t-=p,e-=d;var v=e/s,m=v/(l*(1-o(f,2)/4-3*o(f,4)/64-5*o(f,6)/256)),g=(1-o(1-o(f,2),.5))/(1+o(1-o(f,2),.5)),h=3*g/2-27*o(g,3)/32,y=21*o(g,2)/16-55*o(g,4)/32,A=151*o(g,3)/96,w=1097*o(g,4)/512,O=m+h*a(2*m)+y*a(4*m)+A*a(6*m)+w*a(8*m),_=o(f*l/c,2),b=o(_*r(O),2),x=o(i(O),2),L=l*(1-o(f,2))/o(1-o(f,2)*o(a(O),2),1.5),z=l/o(1-o(f,2)*o(a(O),2),.5),S=t/(z*s),M=z*i(O)/L,G=o(S,2)/2,T=(5+3*x+10*b-4*o(b,2)-9*_)*o(S,4)/24,E=(61+90*x+298*b+45*o(x,2)-3*o(b,2)-252*_)*o(S,6)/720,W=O-M*(G-T+E),D=S,P=(1+2*x+b)*o(S,3)/6,k=(5-2*b+28*x-3*o(b,2)+8*_+24*o(x,2))*o(S,5)/120,C=u+(D-P+k)/r(O);return W=180*W/n,C=180*C/n,[W,C]},changeFormat:function(t){var e=this,o=[];t.features.forEach((function(t){var n=e.TWD97ToWGS84(t.geometry.coordinates[0],t.geometry.coordinates[1]);o.push({type:"Feature",geometry:{type:"Point",coordinates:n}})}))},filter:function(t){var e=t.features.filter((function(t){return"新興區"===t.properties.TOWNNAME}));return e}},computed:{"LatLng.lat":function(){return this.lat+5}},mounted:function(){this.initaMap()}},O=w,_=(o("21bb"),Object(c["a"])(O,v,m,!1,null,null,null)),b=_.exports;n["default"].use(f["a"]);var x=[{path:"/",name:"Home",component:b},{path:"*",name:"NotFound",component:b}],L=new f["a"]({routes:x}),z=L,S=o("5c96"),M=o.n(S),G=(o("6cc5"),o("6397")),T=o.n(G),E=o("e2b9"),W=o.n(E),D=h.a.icon({iconUrl:T.a,shadowUrl:W.a});h.a.Marker.prototype.options.icon=D;var P=function(t){return h.a.icon(t)},k=function(t,e){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=h.a.marker(h.a.latLng(e[0],e[1]),o);return n.addTo(t),n},C=function(t,e){return h.a.marker(t,e)},U=function(t,e,o){var n=h.a.polyline(e,o);return n.addTo(t),console.log(e,o),n},R=function(t,e,o){var n=h.a.polyline(e,o);return n.addTo(t),n},j={createMakerByLatlng:C,createIcon:P,createMakerByXY:k,createPolyline:U,createPolygon:R},I={map:j};o("0fae");n["default"].prototype.$utils=I,n["default"].config.productionTip=!1,n["default"].use(M.a),new n["default"]({router:z,store:d,render:function(t){return t(s)}}).$mount("#app")},9085:function(t,e,o){}});